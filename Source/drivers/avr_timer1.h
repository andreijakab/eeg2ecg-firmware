/**
 * \ingroup		grp_drivers 
 *
 * \file		avr_timer1.h
 * \since		15.07.2010
 * \author		Andrei Jakab (andrei.jakab@tut.fi)
 *
 * \brief		Header file of the AVR 16-bit Timer/Counter1 driver for the ATmega164/324/644/1284 family.
 *
 * $Id: avr_timer1.h 53 2011-02-10 22:13:03Z andrei-jakab $
 */

#ifndef __AVR_TIMER1_H__
#define __AVR_TIMER1_H__

//----------------------------------------------------------------------------------------------------------
//   								Hardware-Related Definitions
//----------------------------------------------------------------------------------------------------------

//----------------------------------------------------------------------------------------------------------
//   								Application-Specific Definitions
//----------------------------------------------------------------------------------------------------------

//----------------------------------------------------------------------------------------------------------
//   								Macros
//----------------------------------------------------------------------------------------------------------

#define CLEAR_TIMER1						\
		do									\
		{									\
			TIFR1 |= (uint8_t) _BV(OCF1B);	\
			TCNT1 = 0;						\
		} while(0)			///< macro used to clear Timer/Counter1

//----------------------------------------------------------------------------------------------------------
//   								Enums/Structs
//----------------------------------------------------------------------------------------------------------
/**
 * 
 */
enum TIMER1_MODE {TMR1_OFF = 0x00,			///< 
				  TMR1_RECORDING = 0x01,	///< 
				  TMR1_DISPSCALE = 0x02		///< 
				 };
//----------------------------------------------------------------------------------------------------------
//   								Prototypes
//----------------------------------------------------------------------------------------------------------
void		avr_tc1_init(enum TIMER1_MODE mode, uint8_t state_change_interval);
void		avr_tc1_restart(void);
void		avr_tc1_stop(void);

#endif
